!function(){"use strict";const e=new Map;function t(e,t,n){const c="?_t="+Date.now();fetch("/pages/"+e+".html"+c).then(e=>e.ok?e.text():Promise.reject()).then(e=>{document.getElementById(t).innerHTML=e,n&&n()}).catch(()=>{document.getElementById(t).innerHTML="<p>Fehler beim Laden. Bitte versuchen Sie es erneut.</p>",n&&n()})}function n(e,t,n){e.style.transition="opacity "+t+"ms",e.style.opacity="0",setTimeout(()=>{e.style.display="none",e.style.opacity="",e.style.transition="",n&&n()},t)}function c(e,t){e.style.opacity="0",e.style.display="block",e.style.transition="opacity "+t+"ms",setTimeout(()=>e.style.opacity="1",10),setTimeout(()=>{e.style.transition=""},t)}function o(){document.querySelectorAll('input[type="radio"][name="rdo"]').forEach(e=>{const t=document.querySelector('label.cat[for="'+e.id+'"]');t&&(e.checked?(t.classList.add("expanded"),t.setAttribute("aria-expanded","true")):(t.classList.remove("expanded"),t.setAttribute("aria-expanded","false")))})}window.kb_source_2_datenschutz=function(){t("datenschutz","datenschutz"),document.getElementById("datenschutz-p").style.display="block",document.getElementById("fade").style.display="block"},window.kb_source_2_impressum=function(){t("impressum","impressum"),document.getElementById("impressum-p").style.display="block",document.getElementById("fade").style.display="block"},document.addEventListener("DOMContentLoaded",function(){document.addEventListener("click",function(e){const t=e.target.closest(".switch-language");if(t){e.preventDefault();const n=t.dataset.lang||t.id;document.querySelectorAll(".language").forEach(e=>e.classList.remove("active")),document.querySelectorAll(".language#"+n).forEach(e=>e.classList.add("active")),document.querySelectorAll(".switch-language").forEach(e=>e.classList.remove("active-lang-link")),document.querySelectorAll('.switch-language[data-lang="'+n+'"], .switch-language#'+n).forEach(e=>e.classList.add("active-lang-link")),document.documentElement.setAttribute("lang","german"===n?"de":"en")}});const t=document.querySelector(".language.active");if(t){const e=t.id;document.querySelectorAll('.switch-language[data-lang="'+e+'"], .switch-language#'+e).forEach(e=>e.classList.add("active-lang-link"))}const s=document.getElementById("fade");s&&s.addEventListener("click",function(){document.querySelectorAll(".white_content").forEach(e=>e.style.display="none"),s.style.display="none"}),document.querySelectorAll('input[type="radio"][name="rdo"]').forEach(t=>{e.set(t.id,t.checked)}),document.querySelectorAll('label.cat[for^="tog"]').forEach(e=>{e.addEventListener("keydown",function(e){"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),this.click())})}),document.querySelectorAll('input[type="radio"][name="rdo"]').forEach(t=>{t.addEventListener("click",function(){const t=e.get(this.id);document.querySelectorAll('input[type="radio"][name="rdo"]').forEach(t=>{t!==this&&(t.checked=!1,e.set(t.id,!1))}),this.checked=!t,e.set(this.id,!t),o()})}),o(),document.addEventListener("click",function(t){const n=t.target.closest('a[href^="#tog"]');if(n){t.preventDefault();const c=n.getAttribute("href").substring(1),s=document.getElementById(c);if(s){document.querySelectorAll('input[type="radio"][name="rdo"]').forEach(t=>{t!==s&&(t.checked=!1,e.set(t.id,!1))}),s.checked=!0,e.set(c,!0),o();const t=document.querySelector('label.cat[for="'+c+'"]');t&&function(e,t){const n=e.getBoundingClientRect().top+window.pageYOffset-t;window.scrollTo({top:n,behavior:"smooth"})}(t,20)}}}),document.addEventListener("click",function(e){const t=e.target.closest("[data-close-lightbox]");t&&(e.preventDefault(),function(e){const t=document.getElementById(e),n=document.getElementById("fade");t&&(t.style.display="none"),n&&(n.style.display="none")}(t.dataset.closeLightbox))}),document.addEventListener("click",function(e){e.target.closest("[data-open-impressum]")&&(e.preventDefault(),kb_source_2_impressum())}),document.addEventListener("click",function(e){e.target.closest("[data-open-datenschutz]")&&(e.preventDefault(),kb_source_2_datenschutz())}),document.querySelectorAll(".contact-form").forEach(e=>{e.addEventListener("submit",function(t){t.preventDefault();const o=this.closest(".contact-form-section").querySelector(".form-success"),s=this.querySelector(".form-submit");s.textContent;s.disabled=!0,s.textContent="...";const a=new FormData(this);fetch(this.action,{method:"POST",body:a,headers:{Accept:"application/json"}}).then(t=>{if(!t.ok)throw new Error("Server error");n(e,300,()=>c(o,300))}).catch(()=>{n(e,300,()=>c(o,300))})})})})}();